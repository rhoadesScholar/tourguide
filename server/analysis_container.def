Bootstrap: docker
From: python:3.11-slim

%post
    # Install build dependencies
    apt-get update
    apt-get install -y gcc g++
    rm -rf /var/lib/apt/lists/*

    # Install Python packages for data analysis
    pip install --no-cache-dir \
        pandas==2.1.4 \
        numpy==1.24.4 \
        plotly==5.18.0 \
        matplotlib==3.8.2 \
        seaborn==0.13.0 \
        kaleido==0.2.1

    # Create directories
    mkdir -p /data /output /code

%environment
    export LC_ALL=C

%runscript
    python /code/analysis.py
