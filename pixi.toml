[project]
name = "ng-live"
version = "0.1.0"
description = "Live streaming and AI narration for Neuroglancer"
authors = ["Your Name <your.email@example.com>"]
channels = ["conda-forge"]
platforms = ["linux-64", "osx-64", "osx-arm64", "win-64"]

[dependencies]
python = "3.11.*"
fastapi = "*"
uvicorn = "*"
pillow = ">=12.0.0,<13"
websockets = "*"
pip = "*"
google-generativeai = ">=0.8.6,<0.9"
python-dotenv = "*"
ffmpeg = "*"

[pypi-dependencies]
neuroglancer ="==2.40.1"
anthropic = "*"
ollama = "*"
edge-tts = "*"
selenium = "*"
webdriver-manager = "*"
TTS = "*"
transformers = ">=4.33.0,<4.45.0"
torch = ">=2.0.0,<2.6.0"
trio = "*"
trio-websocket = "*"

[tasks]
install-chatterbox = { cmd = "pip install 'numpy>=1.24.0,<1.26.0' && pip install chatterbox-tts" }
start = { cmd = "pkill -9 -f 'python.*main.py' 2>/dev/null || true && python server/main.py" }
dev = { cmd = "pkill -9 -f 'python.*main.py' 2>/dev/null || true && python server/main.py --fps 3" }
debug = { cmd = "pkill -9 -f 'python.*main.py' 2>/dev/null || true && python server/main.py --debug" }
